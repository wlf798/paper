import{bx as e,d as o,a1 as t,W as s,p as n,a8 as a,j as u,aj as d,I as c,c as l,bk as r,$ as i,w as m,cE as p,Z as y,ch as v,a0 as f}from"./index-DuNn1tT0.js";import{P as b}from"./vnode-Cc9CZV6n.js";import{t as x}from"./index-CSnsSW2Y.js";import{g as k}from"./scroll-C6vSq5CK.js";const M=o=>{if(!o)return{onClick:e,onMousedown:e,onMouseup:e};let t=!1,s=!1;return{onClick:e=>{t&&s&&o(e),t=s=!1},onMousedown:e=>{t=e.target===e.currentTarget},onMouseup:e=>{s=e.target===e.currentTarget}}},g=t({mask:{type:Boolean,default:!0},customMaskEvent:Boolean,overlayClass:{type:d([String,Array,Object])},zIndex:{type:d([String,Number])}});const w=o({name:"ElOverlay",props:g,emits:{click:e=>e instanceof MouseEvent},setup(e,{slots:o,emit:t}){const d=s("overlay"),{onClick:c,onMousedown:l,onMouseup:r}=M(e.customMaskEvent?void 0:e=>{t("click",e)});return()=>e.mask?n("div",{class:[d.b(),e.overlayClass],style:{zIndex:e.zIndex},onClick:c,onMousedown:l,onMouseup:r},[u(o,"default")],b.STYLE|b.CLASS|b.PROPS,["onClick","onMouseup","onMousedown"]):a("div",{class:e.overlayClass,style:{zIndex:e.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[u(o,"default")])}}),h=(e,o={})=>{c(e)||x("[useLockscreen]","You need to pass a ref param to this function");const t=o.ns||s("popup"),n=l(()=>t.bm("parent","hidden"));if(!r||i(document.body,n.value))return;let a=0,u=!1,d="0";const b=()=>{setTimeout(()=>{"undefined"!=typeof document&&u&&document&&(document.body.style.width=d,f(document.body,n.value))},200)};m(e,e=>{if(!e)return void b();u=!i(document.body,n.value),u&&(d=document.body.style.width,y(document.body,n.value)),a=k(t.namespace.value);const o=document.documentElement.clientHeight<document.body.scrollHeight,s=v(document.body,"overflowY");a>0&&(o||"scroll"===s)&&u&&(document.body.style.width=`calc(100% - ${a}px)`)}),p(()=>b())};export{w as E,M as a,h as u};
