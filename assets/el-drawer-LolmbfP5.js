var e=Object.defineProperty,a=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,r=(a,s,t)=>s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t,i=(e,a)=>{for(var s in a||(a={}))l.call(a,s)&&r(e,s,a[s]);if(t)for(var s of t(a))o.call(a,s)&&r(e,s,a[s]);return e},n=(e,t)=>a(e,s(t));import{a1 as d,cF as u,c,cG as f,a as v,w as p,bt as b,b as y,b6 as m,_ as h,d as g,b4 as w,W as k,bf as z,y as C,f as A,z as E,p as R,Y as j,u as x,J as O,h as F,X as _,az as L,e as P,k as $,i as S,j as T,m as B,aa as I,c1 as H,g as D,ab as q,ao as X}from"./index-CKM1fen8.js";import{E as Y}from"./index-BidXo-Mi.js";import{E as M,a as W}from"./index-Ba5jcMC5.js";import{d as G,a as J,u as N}from"./el-overlay-Bft6Qiui.js";import{b as U}from"./index-BM2-Y4df.js";const K=d(n(i({},J),{direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},resizable:Boolean,size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}})),Q=G;function V(e,a){const{width:s,height:t}=u(),l=c(()=>["ltr","rtl"].includes(e.direction)),o=c(()=>["ltr","ttb"].includes(e.direction)?1:-1),r=c(()=>l.value?s.value:t.value),i=c(()=>f(n.value+o.value*d.value,4,r.value)),n=v(0),d=v(0),h=v(!1),g=v(!1);let w=[],k=[];p(()=>[e.size,e.resizable],()=>{g.value=!1,n.value=0,d.value=0,C()});const z=e=>{const{pageX:a,pageY:s}=e,t=a-w[0],o=s-w[1];d.value=l.value?t:o},C=()=>{w=[],n.value=i.value,d.value=0,h.value=!1,k.forEach(e=>null==e?void 0:e()),k=[]},A=b(a,"mousedown",s=>{e.resizable&&(g.value||(n.value=(()=>{var e;const s=null==(e=a.value)?void 0:e.closest('[aria-modal="true"]');return s?l.value?s.offsetWidth:s.offsetHeight:100})(),g.value=!0),w=[s.pageX,s.pageY],h.value=!0,k.push(b(window,"mouseup",C),b(window,"mousemove",z)))});return y(()=>{A(),C()}),{size:c(()=>g.value?`${i.value}px`:m(e.size)),isResizing:h,isHorizontal:l}}const Z=g({name:"ElDrawer",inheritAttrs:!1});const ee=X(h(g(n(i({},Z),{props:K,emits:Q,setup(e,{expose:a}){const s=e,t=w();U({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},c(()=>!!t.title));const l=v(),o=v(),r=v(),i=k("drawer"),{t:n}=z(),{afterEnter:d,afterLeave:u,beforeLeave:f,visible:p,rendered:b,titleId:y,bodyId:m,zIndex:h,onModalClick:g,onOpenAutoFocus:X,onCloseAutoFocus:G,onFocusoutPrevented:J,onCloseRequested:K,handleClose:Q}=N(s,l),{isHorizontal:Z,size:ee,isResizing:ae}=V(s,r);return a({handleClose:Q,afterEnter:d,afterLeave:u}),(e,a)=>(A(),C(x(W),{to:e.appendTo,disabled:"body"===e.appendTo&&!e.appendToBody},{default:E(()=>[R(j,{name:x(i).b("fade"),onAfterEnter:x(d),onAfterLeave:x(u),onBeforeLeave:x(f),persisted:""},{default:E(()=>{var a;return[O(R(x(Y),{mask:e.modal,"overlay-class":[x(i).is("drawer"),null!=(a=e.modalClass)?a:""],"z-index":x(h),onClick:x(g)},{default:E(()=>[R(x(M),{loop:"",trapped:x(p),"focus-trap-el":l.value,"focus-start-el":o.value,onFocusAfterTrapped:x(X),onFocusAfterReleased:x(G),onFocusoutPrevented:x(J),onReleaseRequested:x(K)},{default:E(()=>[F("div",_({ref_key:"drawerRef",ref:l,"aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:x(y),"aria-describedby":x(m)},e.$attrs,{class:[x(i).b(),e.direction,x(p)&&"open",x(i).is("dragging",x(ae))],style:{[x(Z)?"width":"height"]:x(ee)},role:"dialog",onClick:L(()=>{},["stop"])}),[F("span",{ref_key:"focusStartRef",ref:o,class:S(x(i).e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(A(),P("header",{key:0,class:S([x(i).e("header"),e.headerClass])},[e.$slots.title?T(e.$slots,"title",{key:1},()=>[$(" DEPRECATED SLOT ")]):T(e.$slots,"header",{key:0,close:x(Q),titleId:x(y),titleClass:x(i).e("title")},()=>[F("span",{id:x(y),role:"heading","aria-level":e.headerAriaLevel,class:S(x(i).e("title"))},B(e.title),11,["id","aria-level"])]),e.showClose?(A(),P("button",{key:2,"aria-label":x(n)("el.drawer.close"),class:S(x(i).e("close-btn")),type:"button",onClick:x(Q)},[R(x(I),{class:S(x(i).e("close"))},{default:E(()=>[R(x(H))]),_:1},8,["class"])],10,["aria-label","onClick"])):$("v-if",!0)],2)):$("v-if",!0),x(b)?(A(),P("div",{key:1,id:x(m),class:S([x(i).e("body"),e.bodyClass])},[T(e.$slots,"default")],10,["id"])):$("v-if",!0),e.$slots.footer?(A(),P("div",{key:2,class:S([x(i).e("footer"),e.footerClass])},[T(e.$slots,"footer")],2)):$("v-if",!0),e.resizable?(A(),P("div",{key:3,ref_key:"draggerRef",ref:r,style:D({zIndex:x(h)}),class:S(x(i).e("dragger"))},null,6)):$("v-if",!0)],16,["aria-label","aria-labelledby","aria-describedby","onClick"])]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[q,x(p)]])]}),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])]),_:3},8,["to","disabled"]))}})),[["__file","drawer.vue"]]));export{ee as E};
