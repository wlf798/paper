var e=Object.defineProperty,r=Object.defineProperties,s=Object.getOwnPropertyDescriptors,t=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(r,s,t)=>s in r?e(r,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[s]=t;import{d as i,v as m,a as p,w as n,r as d,c as u,e as c,p as g,h as f,y as h,m as w,z as v,u as j,B as x,l as y,E as b,J as _,N as P,C as V,F as E,f as O}from"./index-CKM1fen8.js";import{E as $,a as L}from"./el-form-item-By2N_a5b.js";import{E as k}from"./el-button-DoyUgqJB.js";/* empty css                    *//* empty css                 */import{_ as q,a as C}from"./LoginLeftView-0VhCkb1d.js";import{E as M}from"./index-B7I_vG9C.js";import{E as R}from"./index-BGUO9W0G.js";import{_ as T}from"./_plugin-vue_export-helper-BCo6x5W8.js";import"./use-form-common-props-DQZcihQX.js";import"./castArray-DlxkTWHs.js";import"./index-DmtduCk7.js";import"./index-C0mez0sX.js";import"./_baseClone-DuY4jedt.js";import"./_initCloneObject-CLrXHQUW.js";import"./index-BM2-Y4df.js";/* empty css                        *//* empty css                  *//* empty css                     */import"./el-dropdown-item-CmVgw-He.js";import"./index-pB6x8TE-.js";import"./index-Ba5jcMC5.js";import"./aria-Dle50h-X.js";import"./index-DayQJJrD.js";import"./refs-Cw5r5QN8.js";import"./index.vue_vue_type_script_setup_true_lang-q3ZekBux.js";import"./useHeaderBar-De1NuiM1.js";import"./index-Zq2PEz_p.js";import"./event-BwRzfsZt.js";import"./index-bQfTT8ye.js";const U={class:"flex w-full h-screen"},B={class:"relative flex-1"},F={class:"auth-right-wrap"},I={class:"form"},A={class:"title"},D={class:"sub-title"},H={style:{"margin-top":"15px"}},J={class:"mt-5 text-sm text-g-600"},K=i((N=((e,r)=>{for(var s in r||(r={}))o.call(r,s)&&l(e,s,r[s]);if(t)for(var s of t(r))a.call(r,s)&&l(e,s,r[s]);return e})({},{name:"Register"}),r(N,s({__name:"index",setup(e){const{t:r,locale:s}=m(),t=V(),o=p(),a=p(!1),l=p(0);n(s,()=>{l.value++});const i=d({username:"",password:"",confirmPassword:"",agreement:!1}),T=(e,s,t)=>{var a;s?(i.confirmPassword&&(null==(a=o.value)||a.validateField("confirmPassword")),t()):t(new Error(r("register.placeholder.password")))},K=(e,s,t)=>{s?s===i.password?t():t(new Error(r("register.rule.passwordMismatch"))):t(new Error(r("register.rule.confirmPasswordRequired")))},N=(e,s,t)=>{s?t():t(new Error(r("register.rule.agreementRequired")))},z=u(()=>({username:[{required:!0,message:r("register.placeholder.username"),trigger:"blur"},{min:3,max:20,message:r("register.rule.usernameLength"),trigger:"blur"}],password:[{required:!0,validator:T,trigger:"blur"},{min:6,message:r("register.rule.passwordLength"),trigger:"blur"}],confirmPassword:[{required:!0,validator:K,trigger:"blur"}],agreement:[{validator:N,trigger:"change"}]})),G=()=>{return e=null,r=null,s=function*(){if(o.value)try{yield o.value.validate(),a.value=!0,setTimeout(()=>{a.value=!1,P.success("注册成功"),Q()},1e3)}catch(e){a.value=!1}},new Promise((t,o)=>{var a=e=>{try{i(s.next(e))}catch(r){o(r)}},l=e=>{try{i(s.throw(e))}catch(r){o(r)}},i=e=>e.done?t(e.value):Promise.resolve(e.value).then(a,l);i((s=s.apply(e,r)).next())});var e,r,s},Q=()=>{setTimeout(()=>{t.push({name:"Login"})},1e3)};return(e,r)=>{const s=q,t=C,m=M,p=L,n=b("RouterLink"),d=R,u=k,P=$,V=E("ripple");return O(),c("div",U,[g(s),f("div",B,[g(t),f("div",F,[f("div",I,[f("h3",A,w(e.$t("register.title")),1),f("p",D,w(e.$t("register.subTitle")),1),(O(),h(P,{class:"mt-7.5",ref_key:"formRef",ref:o,model:j(i),rules:j(z),"label-position":"top",key:j(l)},{default:v(()=>[g(p,{prop:"username"},{default:v(()=>[g(m,{class:"custom-height",modelValue:j(i).username,"onUpdate:modelValue":r[0]||(r[0]=e=>j(i).username=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder.username")},null,8,["modelValue","placeholder"])]),_:1}),g(p,{prop:"password"},{default:v(()=>[g(m,{class:"custom-height",modelValue:j(i).password,"onUpdate:modelValue":r[1]||(r[1]=e=>j(i).password=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder.password"),type:"password",autocomplete:"off","show-password":""},null,8,["modelValue","placeholder"])]),_:1}),g(p,{prop:"confirmPassword"},{default:v(()=>[g(m,{class:"custom-height",modelValue:j(i).confirmPassword,"onUpdate:modelValue":r[2]||(r[2]=e=>j(i).confirmPassword=e),modelModifiers:{trim:!0},placeholder:e.$t("register.placeholder.confirmPassword"),type:"password",autocomplete:"off",onKeyup:x(G,["enter"]),"show-password":""},null,8,["modelValue","placeholder"])]),_:1}),g(p,{prop:"agreement"},{default:v(()=>[g(d,{modelValue:j(i).agreement,"onUpdate:modelValue":r[3]||(r[3]=e=>j(i).agreement=e)},{default:v(()=>[y(w(e.$t("register.agreeText"))+" ",1),g(n,{style:{color:"var(--theme-color)","text-decoration":"none"},to:"/privacy-policy"},{default:v(()=>[y(w(e.$t("register.privacyPolicy")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),f("div",H,[_((O(),h(u,{class:"w-full custom-height",type:"primary",onClick:G,loading:j(a)},{default:v(()=>[y(w(e.$t("register.submitBtnText")),1)]),_:1},8,["loading"])),[[V]])]),f("div",J,[f("span",null,w(e.$t("register.hasAccount")),1),g(n,{class:"text-theme",to:{name:"Login"}},{default:v(()=>[y(w(e.$t("register.toLogin")),1)]),_:1})])]),_:1},8,["model","rules"]))])])])])}}}))));var N;const z=T(K,[["__scopeId","data-v-48c5f07c"]]);export{z as default};
