var e=Object.defineProperty,t=Object.defineProperties,r=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,s=Object.prototype.propertyIsEnumerable,i=(t,r,o)=>r in t?e(t,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[r]=o,p=(e,t)=>{for(var r in t||(t={}))a.call(t,r)&&i(e,r,t[r]);if(o)for(var r of o(t))s.call(t,r)&&i(e,r,t[r]);return e},n=(e,o)=>t(e,r(o));import{d as l,a as m,F as u,e as d,f as j,p as c,u as v,I as f,z as x,J as g,y,l as _,n as b,a8 as h,dJ as w,N as P}from"./index-CKM1fen8.js";import{E as C}from"./el-card-CJ1sCfRg.js";import{_ as O}from"./index-CS3o7C6B.js";import{_ as E}from"./index-Bkn6nlmN.js";import{E as z}from"./el-space-C4hwaD0P.js";import{E as k}from"./el-button-DoyUgqJB.js";import{_ as S}from"./index.vue_vue_type_script_setup_true_lang-B0GwT2vT.js";import{A as T}from"./formData-BXYWt-zH.js";import{u as I}from"./useTable-DzuECBSH.js";import{_ as A}from"./user-search.vue_vue_type_script_setup_true_lang-CT6qhxZO.js";import{_ as G}from"./user-dialog.vue_vue_type_script_setup_true_lang-OGlXjOLp.js";import"./tree-select-D3snXuk9.js";import{E as D}from"./overlay--9eulSaS.js";/* empty css              */import{E as F}from"./index-mBJWYVja.js";import{E as N}from"./index-N7bjZI1X.js";import"./el-pagination-BE1HjgTc.js";import"./el-option-DisnDj8j.js";import"./index-pB6x8TE-.js";import"./index-DmtduCk7.js";import"./index-Ba5jcMC5.js";import"./aria-Dle50h-X.js";import"./index-C0mez0sX.js";import"./use-form-common-props-DQZcihQX.js";import"./index-DayQJJrD.js";import"./token-DWNpOE8r.js";import"./strings-CNX5bs_2.js";import"./castArray-DlxkTWHs.js";import"./index-BM2-Y4df.js";import"./index-B7I_vG9C.js";import"./event-BwRzfsZt.js";import"./index-bQfTT8ye.js";import"./scroll-d-m4ua5F.js";import"./debounce-DTnqz5uK.js";import"./toNumber-D96i-_vD.js";import"./_baseIteratee-DrESJfWH.js";import"./index-e96-4aEG.js";import"./vnode-BPtR4NST.js";/* empty css               *//* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 */import"./el-table-column-BPAN9kPJ.js";import"./_initCloneObject-CLrXHQUW.js";import"./isArrayLikeObject-Bhjbp35m.js";import"./raf-yHvaB8QX.js";import"./index-BGUO9W0G.js";/* empty css                    *//* empty css                   */import"./el-empty-W_npPgbf.js";import"./formEnum-BLgiZVxV.js";import"./_plugin-vue_export-helper-BCo6x5W8.js";import"./el-popover-BvUztomj.js";import"./el-dropdown-item-CmVgw-He.js";import"./refs-Cw5r5QN8.js";/* empty css                        */import"./index.vue_vue_type_script_setup_true_lang-q3ZekBux.js";import"./vue-draggable-plus-DQ_EUkWh.js";import"./avatar1-CutlWZf5.js";import"./avatar6-VNTlcTK9.js";import"./avatar9-oKrDyQhv.js";import"./avatar10-Dom60BwY.js";import"./useTableColumns-BfrUOmVg.js";import"./index-B4VUBRu_.js";import"./el-form-item-By2N_a5b.js";import"./_baseClone-DuY4jedt.js";import"./el-row-BcGmfk3v.js";import"./el-col-DogW5QcK.js";import"./el-radio-DvX9iq57.js";import"./index-Aj5nPoN_.js";import"./index-D9Z2iav2.js";import"./index-D_6TXvdw.js";import"./validator-7CwAUGKe.js";import"./index-OIjaevOD.js";import"./el-dialog-CH-fnEoz.js";import"./index-BidXo-Mi.js";import"./el-overlay-Bft6Qiui.js";import"./index-Cm6juxQ2.js";import"./cloneDeep-B7zM8sPE.js";import"./clamp-H8AvSXc6.js";import"./index-DwsxGvSH.js";import"./index-m9BoEEbU.js";const R={class:"user-page art-full-height"},U=l(n(p({},{name:"User"}),{__name:"index",setup(e){const t=m("add"),r=m(!1),o=m({}),a=m([]),s=m({userName:void 0,userGender:void 0,userPhone:void 0,userEmail:void 0,status:"1"}),i={1:{type:"success",text:"在线"},2:{type:"info",text:"离线"},3:{type:"warning",text:"异常"},4:{type:"danger",text:"注销"}},{columns:l,columnChecks:U,data:V,loading:B,pagination:J,getData:L,searchParams:q,resetSearchParams:H,handleSizeChange:K,handleCurrentChange:Q,refreshData:W}=I({core:{apiFn:w,apiParams:p({current:1,size:20},s.value),columnsFactory:()=>[{type:"selection"},{type:"index",width:60,label:"序号"},{prop:"userInfo",label:"用户名",width:280,formatter:e=>h("div",{class:"user flex-c"},[h(F,{class:"size-9.5 rounded-md",src:e.avatar,previewSrcList:[e.avatar],previewTeleported:!0}),h("div",{class:"ml-2"},[h("p",{class:"user-name"},e.userName),h("p",{class:"email"},e.userEmail)])])},{prop:"userGender",label:"性别",sortable:!0,formatter:e=>e.userGender},{prop:"userPhone",label:"手机号"},{prop:"status",label:"状态",formatter:e=>{const t=(r=e.status,i[r]||{type:"info",text:"未知"});var r;return h(N,{type:t.type},()=>t.text)}},{prop:"createTime",label:"创建日期",sortable:!0},{prop:"operation",label:"操作",width:120,fixed:"right",formatter:e=>h("div",[h(S,{type:"edit",onClick:()=>Y("edit",e)}),h(S,{type:"delete",onClick:()=>M(e)})])}]},transform:{dataTransformer:e=>Array.isArray(e)?e.map((e,t)=>n(p({},e),{avatar:T[t%T.length].avatar})):[]}}),X=e=>{Object.assign(q,e),L()},Y=(e,a)=>{t.value=e,o.value=a||{},b(()=>{r.value=!0})},M=e=>{D.confirm("确定要注销该用户吗？","注销用户",{confirmButtonText:"确定",cancelButtonText:"取消",type:"error"}).then(()=>{P.success("注销成功")})},Z=()=>{return e=null,t=null,a=function*(){try{r.value=!1,o.value={}}catch(e){}},new Promise((r,o)=>{var s=e=>{try{p(a.next(e))}catch(t){o(t)}},i=e=>{try{p(a.throw(e))}catch(t){o(t)}},p=e=>e.done?r(e.value):Promise.resolve(e.value).then(s,i);p((a=a.apply(e,t)).next())});var e,t,a},$=e=>{a.value=e};return(e,a)=>{const i=k,p=z,n=E,m=O,b=C,h=u("ripple");return j(),d("div",R,[c(A,{modelValue:v(s),"onUpdate:modelValue":a[0]||(a[0]=e=>f(s)?s.value=e:null),onSearch:X,onReset:v(H)},null,8,["modelValue","onReset"]),c(b,{class:"art-table-card",shadow:"never"},{default:x(()=>[c(n,{columns:v(U),"onUpdate:columns":a[2]||(a[2]=e=>f(U)?U.value=e:null),loading:v(B),onRefresh:v(W)},{left:x(()=>[c(p,{wrap:""},{default:x(()=>[g((j(),y(i,{onClick:a[1]||(a[1]=e=>Y("add"))},{default:x(()=>[...a[4]||(a[4]=[_("新增用户",-1)])]),_:1})),[[h]])]),_:1})]),_:1},8,["columns","loading","onRefresh"]),c(m,{loading:v(B),data:v(V),columns:v(l),pagination:v(J),onSelectionChange:$,"onPagination:sizeChange":v(K),"onPagination:currentChange":v(Q)},null,8,["loading","data","columns","pagination","onPagination:sizeChange","onPagination:currentChange"]),c(G,{visible:v(r),"onUpdate:visible":a[3]||(a[3]=e=>f(r)?r.value=e:null),type:v(t),"user-data":v(o),onSubmit:Z},null,8,["visible","type","user-data"])]),_:1})])}}}));export{U as default};
