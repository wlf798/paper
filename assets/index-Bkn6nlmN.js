var e=Object.defineProperty,l=Object.defineProperties,a=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,t=Object.prototype.propertyIsEnumerable,r=(l,a,o)=>a in l?e(l,a,{enumerable:!0,configurable:!0,writable:!0,value:o}):l[a]=o;import{d as n,cW as i,v as u,cX as d,s as c,c as m,a as p,o as f,aA as v,e as b,f as h,h as y,j as _,k as g,y as x,i as w,p as k,z as j,G as B,H as S,u as V,l as E,m as O,I as z}from"./index-CKM1fen8.js";/* empty css                  */import{E as L}from"./el-popover-BvUztomj.js";/* empty css                    */import"./el-button-DoyUgqJB.js";/* empty css                        *//* empty css                     */import{a as C,b as U,E as A}from"./el-dropdown-item-CmVgw-He.js";import{_ as H}from"./index.vue_vue_type_script_setup_true_lang-q3ZekBux.js";import{T as I}from"./formEnum-BLgiZVxV.js";import{u as P}from"./index-CS3o7C6B.js";import{l as $}from"./vue-draggable-plus-DQ_EUkWh.js";import"./tree-select-D3snXuk9.js";import{E as F}from"./index-DayQJJrD.js";import{E as T}from"./index-BGUO9W0G.js";import{_ as q}from"./_plugin-vue_export-helper-BCo6x5W8.js";const G={class:"flex-cb max-md:!block",id:"art-table-header"},M={class:"flex-wrap"},Z={class:"flex-c md:justify-end max-md:mt-3 max-sm:!hidden"},D={class:"button"},Q={class:"button"},R={class:"button"},W=n((X=((e,l)=>{for(var a in l||(l={}))s.call(l,a)&&r(e,a,l[a]);if(o)for(var a of o(l))t.call(l,a)&&r(e,a,l[a]);return e})({},{name:"ArtTableHeader"}),J={__name:"index",props:i({showZebra:{type:Boolean,default:!0},showBorder:{type:Boolean,default:!0},showHeaderBackground:{type:Boolean,default:!0},fullClass:{default:"art-page-view"},layout:{default:"search,refresh,size,fullscreen,columns,settings"},loading:{type:Boolean},showSearchBar:{type:Boolean,default:void 0}},{columns:{required:!1,default:()=>[]},columnsModifiers:{}}),emits:i(["refresh","search","update:showSearchBar"],["update:columns"]),setup(e,{emit:l}){const{t:a}=u(),o=e,s=d(e,"columns"),t=l,r=[{value:I.SMALL,label:a("table.sizeOptions.small")},{value:I.DEFAULT,label:a("table.sizeOptions.default")},{value:I.LARGE,label:a("table.sizeOptions.large")}],n=P(),{tableSize:i,isZebra:q,isBorder:W,isHeaderBackground:X}=c(n),J=m(()=>o.layout.split(",").map(e=>e.trim())),K=e=>J.value.includes(e),N=e=>{const l=e.related;return!l||!l.classList.contains("fixed-column")},Y=()=>{t("update:showSearchBar",!o.showSearchBar),t("search")},ee=()=>{ae.value=!0,t("refresh")},le=e=>{P().setTableSize(e)},ae=p(!1),oe=p(!1),se=p(""),te=()=>{const e=document.querySelector(`.${o.fullClass}`);e&&(oe.value=!oe.value,oe.value?(se.value=document.body.style.overflow,document.body.style.overflow="hidden",e.classList.add("el-full-screen"),n.setIsFullScreen(!0)):(document.body.style.overflow=se.value,e.classList.remove("el-full-screen"),n.setIsFullScreen(!1)))},re=e=>{"Escape"===e.key&&oe.value&&te()};return f(()=>{document.addEventListener("keydown",re)}),v(()=>{if(document.removeEventListener("keydown",re),oe.value){document.body.style.overflow=se.value;const e=document.querySelector(`.${o.fullClass}`);e&&e.classList.remove("el-full-screen")}}),(l,o)=>{const t=H,n=U,u=C,d=A,c=T,m=L;return h(),b("div",G,[y("div",M,[_(l.$slots,"left",{},void 0,!0)]),y("div",Z,[null!=e.showSearchBar?(h(),b("div",{key:0,class:w(["button",e.showSearchBar?"active !bg-theme hover:!bg-theme/80":""]),onClick:Y},[k(t,{icon:"ri:search-line",class:w(e.showSearchBar?"text-white":"text-g-700")},null,8,["class"])],2)):g("",!0),K("refresh")?(h(),b("div",{key:1,class:w(["button",{loading:e.loading&&ae.value}]),onClick:ee},[k(t,{icon:"ri:refresh-line",class:w(e.loading&&ae.value?"animate-spin text-g-600":"")},null,8,["class"])],2)):g("",!0),K("size")?(h(),x(d,{key:2,onCommand:le},{dropdown:j(()=>[k(u,null,{default:j(()=>[(h(),b(B,null,S(r,e=>y("div",{key:e.value,class:"table-size-btn-item [&_.el-dropdown-menu__item]:!mb-[3px] last:[&_.el-dropdown-menu__item]:!mb-0"},[(h(),x(n,{key:e.value,command:e.value,class:w(V(i)===e.value?"!bg-g-300/55":"")},{default:j(()=>[E(O(e.label),1)]),_:2},1032,["command","class"]))])),64))]),_:1})]),default:j(()=>[y("div",D,[k(t,{icon:"ri:arrow-up-down-fill"})])]),_:1})):g("",!0),K("fullscreen")?(h(),b("div",{key:3,class:"button",onClick:te},[k(t,{icon:oe.value?"ri:fullscreen-exit-line":"ri:fullscreen-line"},null,8,["icon"])])):g("",!0),K("columns")?(h(),x(m,{key:4,placement:"bottom",trigger:"click"},{reference:j(()=>[y("div",Q,[k(t,{icon:"ri:align-right"})])]),default:j(()=>[y("div",null,[k(V(F),{"max-height":"380px"},{default:j(()=>[k(V($),{modelValue:s.value,"onUpdate:modelValue":o[0]||(o[0]=e=>s.value=e),disabled:!1,filter:".fixed-column","prevent-on-filter":!1,onMove:N},{default:j(()=>[(h(!0),b(B,null,S(s.value,e=>{return h(),b("div",{key:e.prop||e.type,class:w(["column-option flex-c",{"fixed-column":e.fixed}])},[y("div",{class:w(["drag-icon mr-2 h-4.5 flex-cc text-g-500",e.fixed?"cursor-default text-g-300":"cursor-move"])},[k(t,{icon:e.fixed?"ri:unpin-line":"ri:drag-move-2-fill",class:"text-base"},null,8,["icon"])],2),k(c,{"model-value":(l=e,void 0!==l.visible?l.visible:null==(o=l.checked)||o),"onUpdate:modelValue":l=>((e,l)=>{const a=!!l;e.checked=a,e.visible=a})(e,l),disabled:e.disabled,class:"flex-1 min-w-0 [&_.el-checkbox__label]:overflow-hidden [&_.el-checkbox__label]:text-ellipsis [&_.el-checkbox__label]:whitespace-nowrap"},{default:j(()=>[E(O(e.label||("selection"===e.type?V(a)("table.selection"):"")),1)]),_:2},1032,["model-value","onUpdate:modelValue","disabled"])],2);var l,o}),128))]),_:1},8,["modelValue"])]),_:1})])]),_:1})):g("",!0),K("settings")?(h(),x(m,{key:5,placement:"bottom",trigger:"click"},{reference:j(()=>[y("div",R,[k(t,{icon:"ri:settings-line"})])]),default:j(()=>[y("div",null,[e.showZebra?(h(),x(c,{key:0,modelValue:V(q),"onUpdate:modelValue":o[1]||(o[1]=e=>z(q)?q.value=e:null),value:!0},{default:j(()=>[E(O(V(a)("table.zebra")),1)]),_:1},8,["modelValue"])):g("",!0),e.showBorder?(h(),x(c,{key:1,modelValue:V(W),"onUpdate:modelValue":o[2]||(o[2]=e=>z(W)?W.value=e:null),value:!0},{default:j(()=>[E(O(V(a)("table.border")),1)]),_:1},8,["modelValue"])):g("",!0),e.showHeaderBackground?(h(),x(c,{key:2,modelValue:V(X),"onUpdate:modelValue":o[3]||(o[3]=e=>z(X)?X.value=e:null),value:!0},{default:j(()=>[E(O(V(a)("table.headerBackground")),1)]),_:1},8,["modelValue"])):g("",!0)])]),_:1})):g("",!0),_(l.$slots,"right",{},void 0,!0)])])}}},l(X,a(J))));var X,J;const K=q(W,[["__scopeId","data-v-cc86ffed"]]);export{K as _};
