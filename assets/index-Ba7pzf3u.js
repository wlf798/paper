var e=Object.defineProperty,t=Object.defineProperties,s=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,l=(t,s,n)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n,i=(e,t)=>{for(var s in t||(t={}))o.call(t,s)&&l(e,s,t[s]);if(n)for(var s of n(t))a.call(t,s)&&l(e,s,t[s]);return e},r=(e,n)=>t(e,s(n)),u=(e,t,s)=>new Promise((n,o)=>{var a=e=>{try{i(s.next(e))}catch(t){o(t)}},l=e=>{try{i(s.throw(e))}catch(t){o(t)}},i=e=>e.done?n(e.value):Promise.resolve(e.value).then(a,l);i((s=s.apply(e,t)).next())});import{q as m,aH as c,dY as d,s as p,au as h,dZ as y,a as g,d_ as b,c as v,w as f,aF as w,d$ as k,A as T,d as x,e as S,f as C,p as O,u as B,I as M,z as E,h as _,j as L,g as W,m as j,v as F,e0 as R,aN as V,G as A,H as D,i as N,k as H,aJ as K,J as $,ab as P,y as U,e1 as I,l as q,N as G,e2 as z,n as J,o as X,aA as Y}from"./index-DuNn1tT0.js";import{E as Z}from"./el-drawer-D3cpIt9s.js";import"./el-overlay-BJf7WO-c.js";import{_ as Q}from"./index.vue_vue_type_script_setup_true_lang-D9lp4Hgf.js";/* empty css               */import{E as ee,a as te}from"./el-option-HDUlhA_A.js";/* empty css                  *//* empty css                     *//* empty css                  *//* empty css                 *//* empty css                  */import{E as se}from"./index-CKiddVek.js";import{E as ne}from"./index-CtnGaU-P.js";import{_ as oe}from"./_plugin-vue_export-helper-BCo6x5W8.js";import{E as ae}from"./el-button-Cu-8GITI.js";import"./index-jtkC1QNG.js";import"./vnode-Cc9CZV6n.js";import"./index-CSnsSW2Y.js";import"./scroll-C6vSq5CK.js";import"./index-Cwozh5L4.js";import"./aria-Dle50h-X.js";import"./index-Qk1PgHVU.js";import"./index-B54hCvU_.js";import"./use-form-common-props-YkJZMUeo.js";import"./event-BwRzfsZt.js";import"./index-BICMxtfg.js";import"./index-DM4EDxAy.js";import"./index-BHP5EuW7.js";import"./token-DWNpOE8r.js";import"./strings-DrkoAcI2.js";import"./castArray-CK2YYBjI.js";import"./index-DKGOt7-B.js";import"./index-I47MLRFf.js";import"./debounce-CaRH_5Ar.js";import"./toNumber-U8DKyFfl.js";import"./_baseIteratee-Bx0whLuV.js";import"./index-CaqOoRuI.js";import"./validator-AtrFltAN.js";import"./index-RIOQcv3b.js";function le(){const e=m();return{initColorWeak:()=>{if(e.colorWeak){const e=document.getElementsByTagName("html")[0];setTimeout(()=>{e.classList.add("color-weak")},100)}},switchMenuLayouts:t=>{t!==c.LEFT&&t!==c.TOP_LEFT||e.setMenuOpen(!0),e.switchMenuLayouts(t),t===c.DUAL_MENU&&(e.switchMenuStyles(d.DESIGN),e.setMenuOpen(!0))}}}function ie(){const e=m(),t={setHtmlClass:(e,t)=>{const s=document.getElementsByTagName("html")[0];t?s.classList.add(e):s.classList.remove(e)},setRootAttribute:(e,t)=>{document.documentElement.setAttribute(e,t)},setBodyClass:(e,t)=>{const s=document.getElementsByTagName("body")[0];t?s.classList.add(e):s.classList.remove(e)}},s=(e,t)=>()=>{e(),null==t||t()},n=(e,t)=>s=>{null!=s&&(e(s),null==t||t(s))},o={workTab:s(()=>e.setWorkTab(!e.showWorkTab)),uniqueOpened:s(()=>e.setUniqueOpened()),menuButton:s(()=>e.setButton()),fastEnter:s(()=>e.setFastEnter()),refreshButton:s(()=>e.setShowRefreshButton()),crumbs:s(()=>e.setCrumbs()),language:s(()=>e.setLanguage()),nprogress:s(()=>e.setNprogress()),colorWeak:s(()=>e.setColorWeak(),()=>{t.setHtmlClass("color-weak",e.colorWeak)}),watermark:s(()=>e.setWatermarkVisible(!e.watermarkVisible)),menuOpenWidth:n(t=>e.setMenuOpenWidth(t)),tabStyle:n(t=>e.setTabStyle(t)),pageTransition:n(t=>e.setPageTransition(t)),customRadius:n(t=>e.setCustomRadius(t))},a={setBoxMode:s=>{const{boxBorderMode:n}=p(e);"shadow-mode"===s&&!1===n.value||"border-mode"===s&&!0===n.value||setTimeout(()=>{t.setRootAttribute("data-box-mode",s),e.setBorderMode()},50)}};return{domOperations:t,basicHandlers:o,boxStyleHandlers:a,colorHandlers:{selectColor:t=>{e.setElementTheme(t),e.reload()}},containerHandlers:{setWidth:t=>{e.setContainerWidth(t),e.reload()}},createToggleHandler:s,createValueHandler:n}}const re={class:"setting-drawer"},ue={class:"drawer-con"},me=x({__name:"SettingDrawer",props:{modelValue:{type:Boolean}},emits:["update:modelValue","open","close"],setup(e,{emit:t}){const s=e,n=t,o=v({get:()=>s.modelValue,set:e=>n("update:modelValue",e)}),a=()=>{n("open")},l=()=>{n("close")},i=()=>{o.value=!1};return(e,t)=>{const s=Z;return C(),S("div",re,[O(s,{size:"300px",modelValue:B(o),"onUpdate:modelValue":t[0]||(t[0]=e=>M(o)?o.value=e:null),"lock-scroll":!0,"with-header":!1,"before-close":i,"destroy-on-close":!1,"modal-class":"setting-modal",onOpen:a,onClose:l},{default:E(()=>[_("div",ue,[L(e.$slots,"default")])]),_:3},8,["modelValue"])])}}}),ce={class:"flex justify-end"},de=x({__name:"SettingHeader",emits:["close"],setup:e=>(e,t)=>{const s=Q;return C(),S("div",null,[_("div",ce,[_("div",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"flex-cc c-p size-7.5 !transition-all duration-200 rounded hover:bg-g-300/80"},[O(s,{icon:"ri:close-fill",class:"block text-xl text-g-600"})])])])}}),pe=x({__name:"SectionTitle",props:{title:{},style:{}},setup:e=>(t,s)=>(C(),S("p",{class:"relative mt-7.5 mb-5.5 text-sm text-center text-g-800 before:absolute before:top-[10px] before:left-0 before:w-[50px] before:m-auto before:content-[''] before:border-b before:border-[var(--art-gray-300)] after:absolute after:top-[10px] after:right-0 after:w-[50px] after:m-auto after:content-[''] after:border-b after:border-g-300",style:W(e.style)},j(e.title),5))});function he(){const{t:e}=F(),t=v(()=>[{value:"tab-default",label:e("setting.tabStyle.default")},{value:"tab-card",label:e("setting.tabStyle.card")},{value:"tab-google",label:e("setting.tabStyle.google")}]),s=v(()=>[{value:"",label:e("setting.transition.list.none")},{value:"fade",label:e("setting.transition.list.fade")},{value:"slide-left",label:e("setting.transition.list.slideLeft")},{value:"slide-bottom",label:e("setting.transition.list.slideBottom")},{value:"slide-top",label:e("setting.transition.list.slideTop")}]),l=[{value:"0",label:"0"},{value:"0.25",label:"0.25"},{value:"0.5",label:"0.5"},{value:"0.75",label:"0.75"},{value:"1",label:"1"}],i=v(()=>[{value:R.FULL,label:e("setting.container.list[0]"),icon:"icon-park-outline:auto-width"},{value:R.BOXED,label:e("setting.container.list[1]"),icon:"ix:width"}]),r=v(()=>[{value:"border-mode",label:e("setting.box.list[0]"),type:"border-mode"},{value:"shadow-mode",label:e("setting.box.list[1]"),type:"shadow-mode"}]),u={mainColors:T.systemMainColor,themeList:T.settingThemeList,menuLayoutList:T.menuLayoutList},m=v(()=>[{key:"showWorkTab",label:e("setting.basics.list.multiTab"),type:"switch",handler:"workTab",headerBarKey:null},{key:"uniqueOpened",label:e("setting.basics.list.accordion"),type:"switch",handler:"uniqueOpened",headerBarKey:null},{key:"showMenuButton",label:e("setting.basics.list.collapseSidebar"),type:"switch",handler:"menuButton",headerBarKey:"menuButton"},{key:"showFastEnter",label:e("setting.basics.list.fastEnter"),type:"switch",handler:"fastEnter",headerBarKey:"fastEnter"},{key:"showRefreshButton",label:e("setting.basics.list.reloadPage"),type:"switch",handler:"refreshButton",headerBarKey:"refreshButton"},{key:"showCrumbs",label:e("setting.basics.list.breadcrumb"),type:"switch",handler:"crumbs",mobileHide:!0,headerBarKey:"breadcrumb"},{key:"showLanguage",label:e("setting.basics.list.language"),type:"switch",handler:"language",headerBarKey:"language"},{key:"showNprogress",label:e("setting.basics.list.progressBar"),type:"switch",handler:"nprogress",headerBarKey:null},{key:"colorWeak",label:e("setting.basics.list.weakMode"),type:"switch",handler:"colorWeak",headerBarKey:null},{key:"watermarkVisible",label:e("setting.basics.list.watermark"),type:"switch",handler:"watermark",headerBarKey:null},{key:"menuOpenWidth",label:e("setting.basics.list.menuWidth"),type:"input-number",handler:"menuOpenWidth",min:180,max:320,step:10,style:{width:"120px"},controlsPosition:"right",headerBarKey:null},{key:"tabStyle",label:e("setting.basics.list.tabStyle"),type:"select",handler:"tabStyle",options:t.value,style:{width:"120px"},headerBarKey:null},{key:"pageTransition",label:e("setting.basics.list.pageTransition"),type:"select",handler:"pageTransition",options:s.value,style:{width:"120px"},headerBarKey:null},{key:"customRadius",label:e("setting.basics.list.borderRadius"),type:"select",handler:"customRadius",options:l,style:{width:"120px"},headerBarKey:null}].filter(e=>{if(null===e.headerBarKey)return!0;const t=V[e.headerBarKey];return!1!==(null==t?void 0:t.enabled)}).map(e=>{var t=e,{headerBarKey:s}=t;return((e,t)=>{var s={};for(var l in e)o.call(e,l)&&t.indexOf(l)<0&&(s[l]=e[l]);if(null!=e&&n)for(var l of n(e))t.indexOf(l)<0&&a.call(e,l)&&(s[l]=e[l]);return s})(t,["headerBarKey"])}));return{tabStyleOptions:t,pageTransitionOptions:s,customRadiusOptions:l,containerWidthOptions:i,boxStyleOptions:r,configOptions:u,basicSettingsConfig:m}}const ye={class:"setting-box-wrap"},ge=["onClick"],be=["src"],ve={class:"name"},fe=x({__name:"ThemeSettings",setup(e){const t=m(),{systemThemeMode:s}=p(t),{configOptions:n}=he(),{switchThemeStyles:o}=y();return(e,t)=>(C(),S(A,null,[O(pe,{title:e.$t("setting.theme.title")},null,8,["title"]),_("div",ye,[(C(!0),S(A,null,D(B(n).themeList,(t,n)=>(C(),S("div",{class:"setting-item",key:t.theme,onClick:e=>B(o)(t.theme)},[_("div",{class:N(["box",{"is-active":t.theme===B(s)}])},[_("img",{src:t.img},null,8,be)],2),_("p",ve,j(e.$t(`setting.theme.list[${n}]`)),1)],8,ge))),128))])],64))}}),we={key:0},ke={class:"setting-box-wrap"},Te=["onClick"],xe=["src"],Se={class:"name"},Ce=x({__name:"MenuLayoutSettings",setup(e){const{width:t}=K(),s=m(),{menuType:n}=p(s),{configOptions:o}=he(),{switchMenuLayouts:a}=le();return(e,s)=>B(t)>1e3?(C(),S("div",we,[O(pe,{title:e.$t("setting.menuType.title")},null,8,["title"]),_("div",ke,[(C(!0),S(A,null,D(B(o).menuLayoutList,(t,s)=>(C(),S("div",{class:"setting-item",key:t.value,onClick:e=>B(a)(t.value)},[_("div",{class:N(["box",{"is-active":t.value===B(n),"mt-16":s>2}])},[_("img",{src:t.img},null,8,xe)],2),_("p",Se,j(e.$t(`setting.menuType.list[${s}]`)),1)],8,Te))),128))])])):H("",!0)}}),Oe={class:"setting-box-wrap"},Be=["onClick"],Me=["src"],Ee=x({__name:"MenuStyleSettings",setup(e){const t=T.themeList,s=m(),{menuThemeType:n,menuType:o,isDark:a}=p(s),l=v(()=>o.value===c.TOP),i=v(()=>o.value===c.DUAL_MENU),r=v(()=>l.value||i.value||a.value);return(e,o)=>(C(),S(A,null,[O(pe,{title:e.$t("setting.menu.title")},null,8,["title"]),_("div",Oe,[(C(!0),S(A,null,D(B(t),e=>(C(),S("div",{class:"setting-item",key:e.theme,onClick:t=>{return n=e.theme,void(i.value||l.value||a.value||s.switchMenuStyles(n));var n}},[_("div",{class:N(["box",{"is-active":e.theme===B(n)}]),style:W({cursor:B(r)?"no-drop":"pointer"})},[_("img",{src:e.img},null,8,Me)],6)],8,Be))),128))])],64))}}),_e={class:"-mr-4"},Le={class:"flex flex-wrap"},We=["onClick"],je=x({__name:"ColorSettings",setup(e){const t=m(),{systemThemeColor:s}=p(t),{configOptions:n}=he(),{colorHandlers:o}=ie();return(e,t)=>{const a=Q;return C(),S("div",null,[O(pe,{title:e.$t("setting.color.title"),class:"mt-10"},null,8,["title"]),_("div",_e,[_("div",Le,[(C(!0),S(A,null,D(B(n).mainColors,e=>(C(),S("div",{key:e,class:"flex items-center justify-center size-[23px] mr-4 mb-2.5 cursor-pointer rounded-full transition-all duration-200 hover:opacity-85",style:W({background:`${e} !important`}),onClick:t=>B(o).selectColor(e)},[$(O(a,{icon:"ri:check-fill",class:"text-base !text-white"},null,512),[[P,e===B(s)]])],12,We))),128))])])])}}}),Fe={class:"box-border flex-cb p-1 mt-5 rounded-lg bg-g-200"},Re=["onClick"],Ve=x({__name:"BoxStyleSettings",setup(e){const t=m(),{boxBorderMode:s}=p(t),{boxStyleOptions:n}=he(),{boxStyleHandlers:o}=ie();return(e,t)=>(C(),S("div",null,[O(pe,{title:e.$t("setting.box.title"),class:"mt-10"},null,8,["title"]),_("div",Fe,[(C(!0),S(A,null,D(B(n),e=>{return C(),S("div",{key:e.value,class:N(["w-[calc(50%-3px)] h-8.5 leading-8.5 text-sm text-center c-p select-none rounded-md transition-all duration-200",(t=e.type,("border-mode"===t?s.value:!s.value)?"text-g-800 bg-[var(--default-box-color)] dark:!text-white dark:bg-g-300":"hover:text-g-800 hover:bg-black/[0.04] dark:hover:bg-black/20")]),onClick:t=>B(o).setBoxMode(e.type)},j(e.label),11,Re);var t}),128))])]))}}),Ae={class:"flex"},De=["onClick"],Ne={class:"text-sm"},He=x({__name:"ContainerSettings",setup(e){const t=m(),{containerWidth:s}=p(t),{containerWidthOptions:n}=he(),{containerHandlers:o}=ie();return(e,t)=>{const a=Q;return C(),S("div",null,[O(pe,{title:e.$t("setting.container.title"),class:"mt-12.5"},null,8,["title"]),_("div",Ae,[(C(!0),S(A,null,D(B(n),e=>(C(),S("div",{key:e.value,class:N(["flex-cc flex-1 h-16 mt-5 mr-3.5 mb-3.5 cursor-pointer !border-2 rounded-lg !text-g-800 last:mr-0",{"border-theme [&_i]:!text-theme":B(s)===e.value,"border-full-d":B(s)!==e.value}]),onClick:t=>B(o).setWidth(e.value)},[O(a,{icon:e.icon,class:"mr-2 text-lg"},null,8,["icon"]),_("span",Ne,j(e.label),1)],10,De))),128))])])}}}),Ke={class:"text-sm"},$e=oe(x({__name:"SettingItem",props:{config:{},modelValue:{}},emits:["change"],setup(e,{emit:t}){const s=e,n=t,o=v(()=>{if(!s.config.options)return[];try{return"object"==typeof s.config.options&&"value"in s.config.options?s.config.options.value||[]:Array.isArray(s.config.options)?s.config.options:[]}catch(e){return[]}}),a=e=>{try{n("change",e)}catch(t){}};return(t,s)=>{const n=se,l=ne,i=te,r=ee;return C(),S("div",{class:N(["flex-cb mb-4 last:mb-2",{"mobile-hide":e.config.mobileHide}])},[_("span",Ke,j(e.config.label),1),"switch"===e.config.type?(C(),U(n,{key:0,"model-value":e.modelValue,onChange:a},null,8,["model-value"])):"input-number"===e.config.type?(C(),U(l,{key:1,"model-value":e.modelValue,min:e.config.min,max:e.config.max,step:e.config.step,style:W(e.config.style),"controls-position":e.config.controlsPosition,onChange:a},null,8,["model-value","min","max","step","style","controls-position"])):"select"===e.config.type?(C(),U(r,{key:2,"model-value":e.modelValue,style:W(e.config.style),onChange:a},{default:E(()=>[(C(!0),S(A,null,D(B(o),e=>(C(),U(i,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["model-value","style"])):H("",!0)],2)}}}),[["__scopeId","data-v-6d528b4d"]]),Pe=x({__name:"BasicSettings",setup(e){const t=m(),{basicSettingsConfig:s}=he(),{basicHandlers:n}=ie(),{uniqueOpened:o,showMenuButton:a,showFastEnter:l,showRefreshButton:i,showCrumbs:r,showWorkTab:u,showLanguage:c,showNprogress:d,colorWeak:h,watermarkVisible:y,menuOpenWidth:g,tabStyle:b,pageTransition:v,customRadius:f}=p(t),w={uniqueOpened:o,showMenuButton:a,showFastEnter:l,showRefreshButton:i,showCrumbs:r,showWorkTab:u,showLanguage:c,showNprogress:d,colorWeak:h,watermarkVisible:y,menuOpenWidth:g,tabStyle:b,pageTransition:v,customRadius:f},k=e=>{var t;const s=w[e];return null!=(t=null==s?void 0:s.value)?t:null};return(e,t)=>(C(),S("div",null,[O(pe,{title:e.$t("setting.basics.title"),class:"mt-10"},null,8,["title"]),(C(!0),S(A,null,D(B(s),e=>(C(),U($e,{key:e.key,config:e,"model-value":k(e.key),onChange:t=>((e,t)=>{const s=n[e];"function"==typeof s&&s(t)})(e.handler,t)},null,8,["config","model-value","onChange"]))),128))]))}}),Ue={class:"mt-10 flex gap-8 border-t border-[var(--default-border)] bg-[var(--art-bg-color)] pt-5"},Ie=x(r(i({},{name:"SettingActions"}),{__name:"SettingActions",setup(e){const{t:t}=F(),s=m(),{copy:n,copied:o}=I(),{switchThemeStyles:a}=y(),l={menuType:{left:"MenuTypeEnum.LEFT",top:"MenuTypeEnum.TOP","top-left":"MenuTypeEnum.TOP_LEFT","dual-menu":"MenuTypeEnum.DUAL_MENU"},systemTheme:{auto:"SystemThemeEnum.AUTO",light:"SystemThemeEnum.LIGHT",dark:"SystemThemeEnum.DARK"},menuTheme:{design:"MenuThemeEnum.DESIGN",light:"MenuThemeEnum.LIGHT",dark:"MenuThemeEnum.DARK"},containerWidth:{"100%":"ContainerWidthEnum.FULL","1200px":"ContainerWidthEnum.BOXED"}},i=[{comment:"菜单类型",key:"menuType",enumMap:l.menuType},{comment:"菜单展开宽度",key:"menuOpenWidth"},{comment:"菜单是否展开",key:"menuOpen"},{comment:"双菜单是否显示文本",key:"dualMenuShowText"},{comment:"系统主题类型",key:"systemThemeType",enumMap:l.systemTheme},{comment:"系统主题模式",key:"systemThemeMode",enumMap:l.systemTheme},{comment:"菜单风格",key:"menuThemeType",enumMap:l.menuTheme},{comment:"系统主题颜色",key:"systemThemeColor"},{comment:"是否显示菜单按钮",key:"showMenuButton"},{comment:"是否显示快速入口",key:"showFastEnter"},{comment:"是否显示刷新按钮",key:"showRefreshButton"},{comment:"是否显示面包屑",key:"showCrumbs"},{comment:"是否显示工作台标签",key:"showWorkTab"},{comment:"是否显示语言切换",key:"showLanguage"},{comment:"是否显示进度条",key:"showNprogress"},{comment:"是否显示设置引导",key:"showSettingGuide"},{comment:"是否显示节日文本",key:"showFestivalText"},{comment:"是否显示水印",key:"watermarkVisible"},{comment:"是否自动关闭",key:"autoClose"},{comment:"是否唯一展开",key:"uniqueOpened"},{comment:"是否色弱模式",key:"colorWeak"},{comment:"是否刷新",key:"refresh"},{comment:"是否加载节日烟花",key:"holidayFireworksLoaded"},{comment:"边框模式",key:"boxBorderMode"},{comment:"页面过渡效果",key:"pageTransition"},{comment:"标签页样式",key:"tabStyle"},{comment:"自定义圆角",key:"customRadius"},{comment:"容器宽度",key:"containerWidth",enumMap:l.containerWidth},{comment:"节日日期",key:"festivalDate",forceValue:""}],r=()=>{const e=["export const SETTING_DEFAULT_CONFIG = {"];return i.forEach(t=>{e.push(`  /** ${t.comment} */`);const n=void 0!==t.forceValue?t.forceValue:s[t.key];e.push(`  ${String(t.key)}: ${((e,t)=>null===e?"null":void 0===e?"undefined":t&&"string"==typeof e&&t[e]?t[e]:"string"==typeof e?`'${e}'`:"boolean"==typeof e||"number"==typeof e?String(e):JSON.stringify(e))(n,t.enumMap)},`)}),e.push("}"),e.join("\n")},c=()=>u(null,null,function*(){try{const e=r();yield n(e),o.value&&G.success({message:t("setting.actions.copySuccess"),duration:3e3})}catch(e){G.error(t("setting.actions.copyFailed"))}}),p=(e,t,s)=>{e!==t&&s()},h=()=>u(null,null,function*(){try{const e=z;s.switchMenuLayouts(e.menuType),s.setMenuOpenWidth(e.menuOpenWidth),s.setMenuOpen(e.menuOpen),s.setDualMenuShowText(e.dualMenuShowText),a(e.systemThemeMode),yield J();const t=s.isDark?d.DARK:e.menuThemeType;s.switchMenuStyles(t),s.setElementTheme(e.systemThemeColor),p(s.showMenuButton,e.showMenuButton,()=>s.setButton()),p(s.showFastEnter,e.showFastEnter,()=>s.setFastEnter()),p(s.showRefreshButton,e.showRefreshButton,()=>s.setShowRefreshButton()),p(s.showCrumbs,e.showCrumbs,()=>s.setCrumbs()),p(s.showLanguage,e.showLanguage,()=>s.setLanguage()),p(s.showNprogress,e.showNprogress,()=>s.setNprogress()),s.setWorkTab(e.showWorkTab),s.setShowFestivalText(e.showFestivalText),s.setWatermarkVisible(e.watermarkVisible),p(s.autoClose,e.autoClose,()=>s.setAutoClose()),p(s.uniqueOpened,e.uniqueOpened,()=>s.setUniqueOpened()),p(s.colorWeak,e.colorWeak,()=>s.setColorWeak()),p(s.boxBorderMode,e.boxBorderMode,()=>s.setBorderMode()),s.setPageTransition(e.pageTransition),s.setTabStyle(e.tabStyle),s.setCustomRadius(e.customRadius),s.setContainerWidth(e.containerWidth),s.setFestivalDate(e.festivalDate),s.setholidayFireworksLoaded(e.holidayFireworksLoaded),location.reload()}catch(e){G.error(t("setting.actions.resetFailed"))}});return(e,t)=>{const s=ae;return C(),S("div",Ue,[O(s,{type:"primary",class:"flex-1 !h-8",onClick:c},{default:E(()=>[q(j(e.$t("setting.actions.copyConfig")),1)]),_:1}),O(s,{type:"danger",plain:"",class:"flex-1 !h-8",onClick:h},{default:E(()=>[q(j(e.$t("setting.actions.resetConfig")),1)]),_:1})])}}})),qe={class:"layout-settings"},Ge=x(r(i({},{name:"ArtSettingsPanel"}),{__name:"index",props:{open:{type:Boolean}},setup(e){const t=e,s=function(){const e=m(),{systemThemeType:t,systemThemeMode:s,menuType:n}=p(e),{openFestival:o,cleanup:a}=h(),{setSystemTheme:l,setSystemAutoTheme:i}=y(),{initColorWeak:r}=le(),{domOperations:u}=ie(),d=g(!1),x=b({tablet:1e3}).smaller("tablet"),S=g(),C=g(!1),O=v(()=>e.systemThemeColor),B=()=>{const n=()=>{s.value===k.AUTO?i():l(t.value)};return{initSystemColor:()=>{T.systemMainColor.includes(O.value)||(e.setElementTheme(T.systemMainColor[0]),e.reload())},initSystemTheme:n,listenerSystemTheme:()=>{const e=window.matchMedia("(prefers-color-scheme: dark)");return e.addEventListener("change",n),()=>{e.removeEventListener("change",n)}}}},M=()=>({stopWatch:f(x,t=>{t?C.value||(S.value=n.value,le().switchMenuLayouts(c.LEFT),e.setMenuOpen(!1),C.value=!0):C.value&&S.value&&(le().switchMenuLayouts(S.value),e.setMenuOpen(!0),C.value=!1)},{immediate:!0})}),E=()=>{let e=null;return{handleOpen:()=>{e&&clearTimeout(e),e=setTimeout(()=>{u.setBodyClass("theme-change",!0),e=null},500)},handleClose:()=>{e&&(clearTimeout(e),e=null),u.setBodyClass("theme-change",!1)},openSetting:()=>{d.value=!0},closeDrawer:()=>{d.value=!1}}};return{showDrawer:d,useThemeHandlers:B,useResponsiveLayout:M,useDrawerControl:E,usePropsWatcher:e=>{f(()=>e.open,e=>{void 0!==e&&(d.value=e)})},useSettingsInitializer:()=>{const t=B(),{openSetting:s}=E(),{stopWatch:n}=M();let l=null;return{initializeSettings:()=>{w.on("openSetting",s),t.initSystemColor(),l=t.listenerSystemTheme(),r();const n=e.boxBorderMode?"border-mode":"shadow-mode";u.setRootAttribute("data-box-mode",n),t.initSystemTheme(),o()},cleanupSettings:()=>{n(),null==l||l(),a()}}}}}(),{showDrawer:n}=s,{handleOpen:o,handleClose:a,closeDrawer:l}=s.useDrawerControl(),{initializeSettings:i,cleanupSettings:r}=s.useSettingsInitializer();return s.usePropsWatcher(t),X(()=>{i()}),Y(()=>{r()}),(e,t)=>(C(),S("div",qe,[O(me,{modelValue:B(n),"onUpdate:modelValue":t[0]||(t[0]=e=>M(n)?n.value=e:null),onOpen:B(o),onClose:B(a)},{default:E(()=>[O(de,{onClose:B(l)},null,8,["onClose"]),O(fe),O(Ce),O(Ee),O(je),O(Ve),O(He),O(Pe),O(Ie)]),_:1},8,["modelValue","onOpen","onClose"])]))}}));export{Ge as default};
