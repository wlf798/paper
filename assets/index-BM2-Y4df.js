import{u as e}from"./index-C0mez0sX.js";import{f as a,b as t}from"./use-form-common-props-DQZcihQX.js";import{a2 as n,a as o,c as r,o as l,w as m,an as s,aA as u,a7 as i,u as d}from"./index-CKM1fen8.js";const p=()=>({form:n(a,void 0),formItem:n(t,void 0)}),v=(a,{formItemContext:t,disableIdGeneration:n,disableIdManagement:d})=>{n||(n=o(!1)),d||(d=o(!1));const p=i(),v=o();let I;const f=r(()=>{var e;return!!(!a.label&&!a.ariaLabel&&t&&t.inputIds&&(null==(e=t.inputIds)?void 0:e.length)<=1)});return l(()=>{I=m([s(a,"id"),n],([a,n])=>{const o=null!=a?a:n?void 0:e().value;o!==v.value&&((null==t?void 0:t.removeInputId)&&!(()=>{let e=null==p?void 0:p.parent;for(;e;){if("ElFormItem"===e.type.name)return!1;if("ElLabelWrap"===e.type.name)return!0;e=e.parent}return!1})()&&(v.value&&t.removeInputId(v.value),(null==d?void 0:d.value)||n||!o||t.addInputId(o)),v.value=o)},{immediate:!0})}),u(()=>{I&&I(),(null==t?void 0:t.removeInputId)&&v.value&&t.removeInputId(v.value)}),{isLabeledByFormItem:f,inputId:v}},I=({from:e,replacement:a,scope:t,version:n,ref:o,type:r="API"},l)=>{m(()=>d(l),e=>{},{immediate:!0})};export{v as a,I as b,p as u};
