var e=Object.defineProperty,t=Object.defineProperties,l=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,s=(t,l,o)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[l]=o,m=(e,t)=>{for(var l in t||(t={}))n.call(t,l)&&s(e,l,t[l]);if(o)for(var l of o(t))a.call(t,l)&&s(e,l,t[l]);return e},c=(e,o)=>t(e,l(o));import{d as r,a as i,E as d,e as u,f as p,h as x,k as v,y as f,g,m as h,G as y,H as b,az as N,z as w,p as j,l as _,A as k,u as F,N as C,r as V,c as D,I as E}from"./index-DuNn1tT0.js";import{E as O}from"./el-drawer-D3cpIt9s.js";import"./el-overlay-BJf7WO-c.js";import{E as M,a as R}from"./el-form-item-DKoSTcyf.js";import{E as S}from"./el-button-Cu-8GITI.js";/* empty css                 */import{E as I}from"./index-DKGOt7-B.js";import{_ as A}from"./index.vue_vue_type_script_setup_true_lang-D9lp4Hgf.js";import"./index-jtkC1QNG.js";import"./vnode-Cc9CZV6n.js";import"./index-CSnsSW2Y.js";import"./scroll-C6vSq5CK.js";import"./index-Cwozh5L4.js";import"./aria-Dle50h-X.js";import"./index-Qk1PgHVU.js";import"./index-B54hCvU_.js";import"./use-form-common-props-YkJZMUeo.js";import"./event-BwRzfsZt.js";import"./castArray-CK2YYBjI.js";import"./_baseClone-lawoqp3c.js";import"./_initCloneObject-DfdnlAFm.js";import"./index-I47MLRFf.js";const P={class:"flex-c"},U={class:"block text-sm font-medium"},z={class:"block mt-2.5 text-sm text-g-700"},G={class:"flex-c mt-2.5"},L={class:"text-xs text-g-700"},T={key:0,class:"pl-2.5"},B={class:"flex justify-end gap-2 w-full"},H=r({__name:"CommentItem",props:{comment:{},showReplyForm:{}},emits:["toggle-reply","add-reply"],setup(e,{emit:t}){const l=e,o=t,n=i(""),a=i(""),s=e=>{o("toggle-reply",e)},m=(e,t,l)=>{o("add-reply",e,t,l),n.value="",a.value=""},c=()=>{n.value.trim()&&a.value.trim()&&(o("add-reply",l.comment.id,n.value,a.value),n.value="",a.value="")};let r=null;const F=()=>{let e;do{const t=Math.floor(Math.random()*k.systemMainColor.length);e=k.systemMainColor[t]}while(e===r);return r=e,e};return(t,l)=>{const o=d("CommentItem",!0),r=I,i=R,k=S,C=M;return p(),u("li",null,[x("div",null,[x("div",P,[x("div",{class:"size-5 mr-2.5 text-xs font-medium text-white rounded-full flex-cc",style:g({background:F()})},h(e.comment.author.substring(0,1)),5),x("strong",U,h(e.comment.author),1)]),x("span",z,h(e.comment.content),1),x("div",G,[x("span",L,h((V=e.comment.timestamp,new Date(V).toLocaleString())),1),x("div",{class:"ml-5 text-xs text-g-700 c-p select-none hover:text-theme",onClick:l[0]||(l[0]=t=>s(e.comment.id))}," 回复 ")])]),e.comment.replies.length>0?(p(),u("ul",T,[(p(!0),u(y,null,b(e.comment.replies,t=>(p(),f(o,{key:t.id,comment:t,"show-reply-form":e.showReplyForm,onToggleReply:s,onAddReply:m,class:"mt-5"},null,8,["comment","show-reply-form"]))),128))])):v("",!0),e.showReplyForm===e.comment.id?(p(),f(C,{key:1,onSubmit:N(c,["prevent"]),class:"mt-4"},{default:w(()=>[j(i,{prop:"author"},{default:w(()=>[j(r,{modelValue:n.value,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value=e),placeholder:"你的名称",clearable:""},null,8,["modelValue"])]),_:1}),j(i,{prop:"content"},{default:w(()=>[j(r,{modelValue:a.value,"onUpdate:modelValue":l[2]||(l[2]=e=>a.value=e),placeholder:"你的回复...",type:"textarea",rows:3,clearable:""},null,8,["modelValue"])]),_:1}),j(i,null,{default:w(()=>[x("div",B,[j(k,{onClick:l[3]||(l[3]=t=>s(e.comment.id))},{default:w(()=>[...l[4]||(l[4]=[_("取消",-1)])]),_:1}),j(k,{type:"primary",onClick:c},{default:w(()=>[...l[5]||(l[5]=[_("发布",-1)])]),_:1})])]),_:1})]),_:1})):v("",!0)]);var V}}}),J=i([{id:1,author:"白夜",content:"黑神话悟空的打斗场面真的燃爆了！期待上线！",timestamp:"2024-09-04 09:00",replies:[{id:101,author:"星河",content:"是啊，特别是那些技能特效，简直帅炸！",timestamp:"2024-09-04 09:15",replies:[{id:201,author:"光芒",content:"希望优化能跟上，不然这么好的画面如果卡顿就可惜了。",timestamp:"2024-09-04 09:30",replies:[]}]}]},{id:2,author:"浮生",content:"据说黑神话悟空需要很高的配置，不知道我的电脑能不能跑起来。",timestamp:"2024-09-04 10:00",replies:[{id:102,author:"晨曦",content:"同担心啊，听说需要至少RTX 3070才能高效运行。",timestamp:"2024-09-04 10:20",replies:[{id:202,author:"流光",content:"我是打算升级配置，等这款游戏就是了。",timestamp:"2024-09-04 10:40",replies:[]}]}]},{id:3,author:"风铃",content:"130GB的存储要求有点夸张啊，不过画质这么好，也情有可原。",timestamp:"2024-09-04 11:00",replies:[{id:103,author:"云端",content:"确实有点高，不过为了这种品质的游戏，值得。",timestamp:"2024-09-04 11:15",replies:[{id:203,author:"梦境",content:"希望发售后能优化一下安装包体积。",timestamp:"2024-09-04 11:30",replies:[]}]}]}]),K={class:"flex justify-end w-full"},X={class:"pb-5 text-lg font-medium"},q=r({__name:"index",setup(e){const t=J,l=i({author:"",content:""}),o=i(null),n=()=>{var e,o;(null==(e=l.value.author)?void 0:e.trim())&&(null==(o=l.value.content)?void 0:o.trim())?(t.value.push({id:Date.now(),author:l.value.author.trim(),content:l.value.content.trim(),timestamp:(new Date).toISOString(),replies:[]}),l.value.author="",l.value.content="",C.success("评论发布成功")):C.warning("请填写完整的评论信息")},a=(e,l,n)=>{if(!(null==l?void 0:l.trim())||!(null==n?void 0:n.trim()))return void C.warning("请填写完整的回复信息");const a=m(t.value,e);a&&(a.replies.push({id:Date.now(),author:l.trim(),content:n.trim(),timestamp:(new Date).toISOString(),replies:[]}),o.value=null,C.success("回复发布成功"))},s=e=>{o.value=o.value===e?null:e},m=(e,t)=>{for(const l of e){if(l.id===t)return l;const e=m(l.replies,t);if(e)return e}};return(e,m)=>{const c=I,r=R,i=S,d=M;return p(),u("div",null,[j(d,{onSubmit:N(n,["prevent"]),class:"w-full mx-auto mb-10"},{default:w(()=>[j(r,{prop:"author",class:"mt-5"},{default:w(()=>[j(c,{modelValue:l.value.author,"onUpdate:modelValue":m[0]||(m[0]=e=>l.value.author=e),placeholder:"你的名称",class:"block w-full",clearable:""},null,8,["modelValue"])]),_:1}),j(r,{prop:"content"},{default:w(()=>[j(c,{modelValue:l.value.content,"onUpdate:modelValue":m[1]||(m[1]=e=>l.value.content=e),placeholder:"简单说两句...",type:"textarea",rows:5,clearable:""},null,8,["modelValue"])]),_:1}),j(r,null,{default:w(()=>[x("div",K,[j(i,{type:"primary",onClick:n},{default:w(()=>[...m[2]||(m[2]=[_(" 发布 ",-1)])]),_:1})])]),_:1})]),_:1}),x("ul",null,[x("div",X," 评论 "+h(F(t).length),1),(p(!0),u(y,null,b(F(t).slice().reverse(),e=>(p(),f(H,{key:e.id,comment:e,"show-reply-form":o.value,onToggleReply:s,onAddReply:a,class:"pb-2.5 mb-5 border-b border-g-400"},null,8,["comment","show-reply-form"]))),128))])])}}}),Q=V([{id:1,date:"2024-9-3",content:"发现了一个超级好用的工具，开心",collection:5,comment:8,userName:"匿名"},{id:2,date:"2024-9-3",content:"今天的代码写得很顺利！",collection:3,comment:2,userName:"Coder123"},{id:3,date:"2024-9-4",content:"遇到个bug，调试了一整天",collection:7,comment:10,userName:"DebugMaster"},{id:4,date:"2024-9-4",content:"学Node真的是一件很有趣的事",collection:9,comment:4,userName:"NodeLover"},{id:5,date:"2024-9-5",content:"今天的进度有点慢，需要加把劲了",collection:2,comment:3,userName:"努力中的小白"},{id:6,date:"2024-9-5",content:"太好了，终于解决了一个难题！",collection:11,comment:5,userName:"匿名"},{id:7,date:"2024-9-6",content:"学会了新的Node技巧，开心！",collection:4,comment:7,userName:"开心每一天"},{id:8,date:"2024-9-6",content:"代码优化真的是一个细致活",collection:6,comment:4,userName:"精益求精"},{id:9,date:"2024-9-7",content:"今天的工作太顺利了，完美！",collection:10,comment:9,userName:"完美主义者"},{id:10,date:"2024-9-7",content:"需要多练习，才能掌握更多技能",collection:5,comment:6,userName:"匿名"},{id:11,date:"2024-9-8",content:"每天进步一点点，终会成功",collection:8,comment:7,userName:"逐梦者"},{id:12,date:"2024-9-8",content:"与其抱怨，不如努力改变",collection:12,comment:10,userName:"改变命运"},{id:13,date:"2024-9-9",content:"今天尝试了新的库，感觉不错",collection:9,comment:8,userName:"新手尝试"},{id:14,date:"2024-9-9",content:"写代码也需要灵感，今天灵感不错",collection:6,comment:5,userName:"灵感源泉"},{id:15,date:"2024-9-10",content:"感谢社区的帮助，让我解决了问题",collection:7,comment:4,userName:"受益匪浅"},{id:16,date:"2024-9-10",content:"学习的路上要保持耐心和恒心",collection:3,comment:2,userName:"匿名"},{id:17,date:"2024-9-11",content:"今天学习了异步编程的知识，受益匪浅",collection:10,comment:9,userName:"异步学习者"},{id:18,date:"2024-9-11",content:"今天的代码质量提升了不少",collection:11,comment:6,userName:"代码匠人"},{id:19,date:"2024-9-12",content:"感觉学习编程真的很有成就感",collection:8,comment:7,userName:"成就感满满"},{id:20,date:"2024-9-12",content:"要加倍努力，才能超越昨天的自己",collection:5,comment:4,userName:"努力超越"},{id:21,date:"2024-9-13",content:"今天的代码写得很顺手，继续保持",collection:9,comment:8,userName:"顺风顺水"},{id:22,date:"2024-9-13",content:"写代码也需要创意，今天很有创意",collection:7,comment:5,userName:"创意无限"},{id:23,date:"2024-9-14",content:"遇到的难题解决了，感觉很有成就感",collection:10,comment:9,userName:"匿名"},{id:24,date:"2024-9-14",content:"今天的编程练习很有收获",collection:8,comment:7,userName:"收获满满"},{id:25,date:"2024-9-15",content:"学习编程的路上，有苦有甜",collection:6,comment:4,userName:"苦乐编程"},{id:26,date:"2024-9-15",content:"今天的代码写得特别流畅，开心！",collection:11,comment:6,userName:"流畅编程"},{id:27,date:"2024-9-16",content:"今天的编程练习让我更有信心",collection:9,comment:8,userName:"信心满满"},{id:28,date:"2024-9-16",content:"今天的编程学习让我收获很多",collection:7,comment:5,userName:"匿名"},{id:29,date:"2024-9-17",content:"编程是一门艺术，今天体会到了",collection:12,comment:10,userName:"编程艺术家"},{id:30,date:"2024-9-17",content:"今天的代码写得很顺利，继续加油！",collection:10,comment:9,userName:"匿名"}]),W={class:"mt-10 grid grid-cols-5 gap-5 max-2xl:grid-cols-4 max-xl:grid-cols-3 max-lg:grid-cols-2 max-sm:grid-cols-1 mb-5"},Y=["onClick"],Z={class:"text-g-600 text-sm"},$={class:"mt-4 text-sm text-gray-800"},ee={class:"absolute bottom-4 left-0 px-4 flex-cb w-full"},te={class:"flex-c"},le={class:"flex-c mr-5 text-xs text-g-600"},oe={class:"flex-c mr-5 text-xs text-g-600"},ne={class:"text-sm text-gray-700"},ae={class:"drawer-default"},se={class:"text-g-500 text-sm"},me={class:"mt-4 text-sm text-gray-800"},ce={class:"absolute bottom-4 left-0 px-4 flex-cb w-full"},re={class:"flex-c"},ie={class:"flex-c mr-5 text-xs text-g-600"},de={class:"flex-c mr-5 text-xs text-g-600"},ue={class:"text-sm text-gray-700"},pe=r(c(m({},{name:"ArticleComment"}),{__name:"index",setup(e){const t=["#D8F8FF","#FDDFD9","#FCE6F0","#D3F8F0","#FFEABC","#F5E1FF","#E1E6FE"],l=i(!1),o=i({id:1,date:"2024-9-3",content:"加油！学好Node 自己写个小Demo",collection:5,comment:8,userName:"匿名",color:t[0]}),n=D(()=>{let e=-1;return Q.map(l=>{let o;do{o=Math.floor(Math.random()*t.length)}while(o===e&&t.length>1);return e=o,c(m({},l),{color:t[o]})})});return(e,t)=>{const a=A,s=q,m=O;return p(),u("div",null,[t[2]||(t[2]=x("h1",{class:"text-4xl font-medium mt-5"},"留言墙",-1)),t[3]||(t[3]=x("p",{class:"mt-3.5 text-g-600"},"每一份留言都记录了您的想法，也为我们提供了珍贵的回忆",-1)),x("ul",W,[(p(!0),u(y,null,b(F(n),e=>(p(),u("li",{class:"relative p-4 c-p aspect-16/12 duration-300 hover:-translate-y-1.5",style:g({background:e.color}),key:e.id,onClick:t=>(e=>{l.value=!0,o.value=e})(e)},[x("p",Z,h(e.date),1),x("p",$,h(e.content),1),x("div",ee,[x("div",te,[x("div",le,[j(a,{icon:"ri:heart-line",class:"mr-1 text-base"}),x("span",null,h(e.collection),1)]),x("div",oe,[j(a,{icon:"ri:message-3-line",class:"mr-1 text-base"}),x("span",null,h(e.comment),1)])]),x("div",null,[x("span",ne,h(e.userName),1)])])],12,Y))),128))]),j(m,{lDrawer:"",modelValue:F(l),"onUpdate:modelValue":t[0]||(t[0]=e=>E(l)?l.value=e:null),"lock-scroll":!1,size:360,"modal-class":"comment-modal"},{header:w(()=>[...t[1]||(t[1]=[x("h4",null,"详情",-1)])]),default:w(()=>[x("div",ae,[x("div",{class:"relative p-4 aspect-16/12",style:g({background:F(o).color})},[x("p",se,h(F(o).date),1),x("p",me,h(F(o).content),1),x("div",ce,[x("div",re,[x("div",ie,[j(a,{icon:"ri:heart-line",class:"mr-1 text-base"}),x("span",null,h(F(o).collection),1)]),x("div",de,[j(a,{icon:"ri:message-3-line",class:"mr-1 text-base"}),x("span",null,h(F(o).comment),1)])]),x("span",ue,h(F(o).userName),1)])],4),j(s)])]),_:1},8,["modelValue"])])}}}));export{pe as default};
